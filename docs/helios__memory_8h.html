<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Helios-Language: main/memory/include/helios_memory.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Helios-Language
   </div>
   <div id="projectbrief">A python inspired programming language with some extra features.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li><li class="navelem"><a class="el" href="dir_54f5d1d9f0fa6067393036cb4af8fee6.html">memory</a></li><li class="navelem"><a class="el" href="dir_f0bff7ca3af979b4b00d6dcb9440fd84.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">helios_memory.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="builtinutils_8h_source.html">builtinutils.h</a>&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for helios_memory.h:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="helios__memory_8h__incl.svg" width="415" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="helios__memory_8h__dep__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="helios__memory_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct____helios__gc__hashmap__node.html">__helios_gc_hashmap_node</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgarbagecollector.html">garbagecollector</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aacb2e437a5d6d1fac2bfbe176b2099ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#aacb2e437a5d6d1fac2bfbe176b2099ba">HELIOS_MEMORY_DEBUG</a>&#160;&#160;&#160;false</td></tr>
<tr class="separator:aacb2e437a5d6d1fac2bfbe176b2099ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e29bea4269384b13c7e2799b02d4ded"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#a5e29bea4269384b13c7e2799b02d4ded">GC_DEFAULT_LENGTH</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a5e29bea4269384b13c7e2799b02d4ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb2995864ced8e4d4bfa1672b3a45bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#afcb2995864ced8e4d4bfa1672b3a45bf">GC_REHASH_PERCENT</a>&#160;&#160;&#160;((double)55)</td></tr>
<tr class="separator:afcb2995864ced8e4d4bfa1672b3a45bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf1377fdc0c088c3bea11743f7a3ff18"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#acf1377fdc0c088c3bea11743f7a3ff18">GC_REHASH_LOWER_PERCENT</a>&#160;&#160;&#160;((double)30)</td></tr>
<tr class="separator:acf1377fdc0c088c3bea11743f7a3ff18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5301b4c3358268578cde0b330c52efb2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#a5301b4c3358268578cde0b330c52efb2">HELIOS_GET_OBJ_GC</a>(obj)&#160;&#160;&#160;(((struct __helios_object_s *)obj)-&gt;gc)</td></tr>
<tr class="separator:a5301b4c3358268578cde0b330c52efb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a677794da9e4d1890752b20985794b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#ad6a677794da9e4d1890752b20985794b">HELIOS_INCREF</a>(obj)&#160;&#160;&#160;(((struct __helios_object_s *)obj)-&gt;refcount++);</td></tr>
<tr class="separator:ad6a677794da9e4d1890752b20985794b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff41a519ebf28356740eeab69721c59a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#aff41a519ebf28356740eeab69721c59a">HELIOS_DECREF_NOGC</a>(obj)&#160;&#160;&#160;(((struct __helios_object_s *)obj)-&gt;refcount--);</td></tr>
<tr class="separator:aff41a519ebf28356740eeab69721c59a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca4ccb924c0070686f0cca8feb0ff27"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#a0ca4ccb924c0070686f0cca8feb0ff27">HELIOS_DECREF</a>(obj)</td></tr>
<tr class="separator:a0ca4ccb924c0070686f0cca8feb0ff27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a121e8a618c451401f4a74f77ee940cf2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#a121e8a618c451401f4a74f77ee940cf2">HELIOS_SETREF</a>(obj,  value)</td></tr>
<tr class="separator:a121e8a618c451401f4a74f77ee940cf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c172aa0256138d40339d80c3f9a1540"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#a8c172aa0256138d40339d80c3f9a1540">HELIOS_GETREF</a>(obj)&#160;&#160;&#160;(((struct __helios_object_s *)obj)-&gt;refcount)</td></tr>
<tr class="separator:a8c172aa0256138d40339d80c3f9a1540"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a27b2da5d6954fd6e7aa0d2f352336c25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgarbagecollector.html">garbagecollector</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#a27b2da5d6954fd6e7aa0d2f352336c25">helios_get_garbagecollector</a> ()</td></tr>
<tr class="separator:a27b2da5d6954fd6e7aa0d2f352336c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0352d829134eb27df2d9e088062e987d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#a0352d829134eb27df2d9e088062e987d">helios_set_garbagecollector</a> (<a class="el" href="structgarbagecollector.html">garbagecollector</a> *gc)</td></tr>
<tr class="separator:a0352d829134eb27df2d9e088062e987d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaabde550780f37dc19f59b3e8bc9c514"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgarbagecollector.html">garbagecollector</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#aaabde550780f37dc19f59b3e8bc9c514">helios_init_garbagecollector</a> ()</td></tr>
<tr class="separator:aaabde550780f37dc19f59b3e8bc9c514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ba47c8ed7e1be60f1c360e33a0aff15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#a0ba47c8ed7e1be60f1c360e33a0aff15">helios_delete_garbagecollector</a> (<a class="el" href="structgarbagecollector.html">garbagecollector</a> *gc)</td></tr>
<tr class="separator:a0ba47c8ed7e1be60f1c360e33a0aff15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dcd65b50eabfe133b9fcf6206b2bd1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#a5dcd65b50eabfe133b9fcf6206b2bd1e">helios_free_all_tracked</a> (<a class="el" href="structgarbagecollector.html">garbagecollector</a> *gc)</td></tr>
<tr class="separator:a5dcd65b50eabfe133b9fcf6206b2bd1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48e4eb31a7e7d92b0e015ae68c01bb3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#a48e4eb31a7e7d92b0e015ae68c01bb3a">helios_garbage_collect</a> (<a class="el" href="structgarbagecollector.html">garbagecollector</a> *gc)</td></tr>
<tr class="separator:a48e4eb31a7e7d92b0e015ae68c01bb3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87f0050f8e236d0945592fa4e54dc94"><td class="memItemLeft" align="right" valign="top">struct __helios_object_s *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#af87f0050f8e236d0945592fa4e54dc94">helios_allocate_object</a> (size_t size)</td></tr>
<tr class="separator:af87f0050f8e236d0945592fa4e54dc94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e10d6dde741394f52241662ea01fc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#a08e10d6dde741394f52241662ea01fc4">helios_free_object</a> (struct __helios_object_s *obj)</td></tr>
<tr class="separator:a08e10d6dde741394f52241662ea01fc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14fb1c046aae61ab06eda8eeaf2cd85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#ab14fb1c046aae61ab06eda8eeaf2cd85">helios_set_garbagecollectable</a> (struct __helios_object_s *obj)</td></tr>
<tr class="separator:ab14fb1c046aae61ab06eda8eeaf2cd85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae984dcde75fe497c211fa3e23888dadd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgarbagecollector.html">garbagecollector</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="helios__memory_8h.html#ae984dcde75fe497c211fa3e23888dadd">__GC_CURRENT</a></td></tr>
<tr class="separator:ae984dcde75fe497c211fa3e23888dadd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5e29bea4269384b13c7e2799b02d4ded"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e29bea4269384b13c7e2799b02d4ded">&#9670;&nbsp;</a></span>GC_DEFAULT_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GC_DEFAULT_LENGTH&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="helios__memory_8h_source.html#l00012">12</a> of file <a class="el" href="helios__memory_8h_source.html">helios_memory.h</a>.</p>

</div>
</div>
<a id="acf1377fdc0c088c3bea11743f7a3ff18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf1377fdc0c088c3bea11743f7a3ff18">&#9670;&nbsp;</a></span>GC_REHASH_LOWER_PERCENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GC_REHASH_LOWER_PERCENT&#160;&#160;&#160;((double)30)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="helios__memory_8h_source.html#l00014">14</a> of file <a class="el" href="helios__memory_8h_source.html">helios_memory.h</a>.</p>

</div>
</div>
<a id="afcb2995864ced8e4d4bfa1672b3a45bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcb2995864ced8e4d4bfa1672b3a45bf">&#9670;&nbsp;</a></span>GC_REHASH_PERCENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GC_REHASH_PERCENT&#160;&#160;&#160;((double)55)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="helios__memory_8h_source.html#l00013">13</a> of file <a class="el" href="helios__memory_8h_source.html">helios_memory.h</a>.</p>

</div>
</div>
<a id="a0ca4ccb924c0070686f0cca8feb0ff27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ca4ccb924c0070686f0cca8feb0ff27">&#9670;&nbsp;</a></span>HELIOS_DECREF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HELIOS_DECREF</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                                       \</div><div class="line">        ((<span class="keyword">struct </span>__helios_object_s *)obj)-&gt;refcount--;                         \</div><div class="line">        if (((<span class="keyword">struct</span> __helios_object_s *)obj)-&gt;refcount &lt;= 0) {                \</div><div class="line">            HELIOS_CALL_MEMBER(destructor, obj);                               \</div><div class="line">        }                                                                      \</div><div class="line">    } <span class="keywordflow">while</span> (0);</div></div><!-- fragment -->
<p>Decrement the reference count of an object. </p>
<p>When the count reaches 0 (or below) the object will be freed. </p>

<p class="definition">Definition at line <a class="el" href="helios__memory_8h_source.html#l00065">65</a> of file <a class="el" href="helios__memory_8h_source.html">helios_memory.h</a>.</p>

</div>
</div>
<a id="aff41a519ebf28356740eeab69721c59a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff41a519ebf28356740eeab69721c59a">&#9670;&nbsp;</a></span>HELIOS_DECREF_NOGC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HELIOS_DECREF_NOGC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj</td><td>)</td>
          <td>&#160;&#160;&#160;(((struct __helios_object_s *)obj)-&gt;refcount--);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decrement the reference count of an object. </p>
<p>When the count reaches 0 no garbage collection will be performed. </p>

<p class="definition">Definition at line <a class="el" href="helios__memory_8h_source.html#l00059">59</a> of file <a class="el" href="helios__memory_8h_source.html">helios_memory.h</a>.</p>

</div>
</div>
<a id="a5301b4c3358268578cde0b330c52efb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5301b4c3358268578cde0b330c52efb2">&#9670;&nbsp;</a></span>HELIOS_GET_OBJ_GC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HELIOS_GET_OBJ_GC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj</td><td>)</td>
          <td>&#160;&#160;&#160;(((struct __helios_object_s *)obj)-&gt;gc)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the garbagecollector of an object. </p>

<p class="definition">Definition at line <a class="el" href="helios__memory_8h_source.html#l00049">49</a> of file <a class="el" href="helios__memory_8h_source.html">helios_memory.h</a>.</p>

</div>
</div>
<a id="a8c172aa0256138d40339d80c3f9a1540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c172aa0256138d40339d80c3f9a1540">&#9670;&nbsp;</a></span>HELIOS_GETREF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HELIOS_GETREF</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj</td><td>)</td>
          <td>&#160;&#160;&#160;(((struct __helios_object_s *)obj)-&gt;refcount)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the reference count of an object. </p>

<p class="definition">Definition at line <a class="el" href="helios__memory_8h_source.html#l00089">89</a> of file <a class="el" href="helios__memory_8h_source.html">helios_memory.h</a>.</p>

</div>
</div>
<a id="ad6a677794da9e4d1890752b20985794b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6a677794da9e4d1890752b20985794b">&#9670;&nbsp;</a></span>HELIOS_INCREF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HELIOS_INCREF</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj</td><td>)</td>
          <td>&#160;&#160;&#160;(((struct __helios_object_s *)obj)-&gt;refcount++);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increment the reference count of an object. </p>

<p class="definition">Definition at line <a class="el" href="helios__memory_8h_source.html#l00054">54</a> of file <a class="el" href="helios__memory_8h_source.html">helios_memory.h</a>.</p>

</div>
</div>
<a id="aacb2e437a5d6d1fac2bfbe176b2099ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacb2e437a5d6d1fac2bfbe176b2099ba">&#9670;&nbsp;</a></span>HELIOS_MEMORY_DEBUG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HELIOS_MEMORY_DEBUG&#160;&#160;&#160;false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="helios__memory_8h_source.html#l00010">10</a> of file <a class="el" href="helios__memory_8h_source.html">helios_memory.h</a>.</p>

</div>
</div>
<a id="a121e8a618c451401f4a74f77ee940cf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a121e8a618c451401f4a74f77ee940cf2">&#9670;&nbsp;</a></span>HELIOS_SETREF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HELIOS_SETREF</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                                       \</div><div class="line">        if (value == 0) {                                                      \</div><div class="line">            HELIOS_CALL_MEMBER(destructor, obj)                                \</div><div class="line">        } <span class="keywordflow">else</span> {                                                               \</div><div class="line">            ((<span class="keyword">struct </span>__helios_object_s *)obj)-&gt;refcount = value;               \</div><div class="line">        }                                                                      \</div><div class="line">    } <span class="keywordflow">while</span> (0);</div></div><!-- fragment -->
<p>Sets the reference count of an object. </p>
<p>Setting the reference count of an object to 0 is equal to calling it's destructor. </p>

<p class="definition">Definition at line <a class="el" href="helios__memory_8h_source.html#l00077">77</a> of file <a class="el" href="helios__memory_8h_source.html">helios_memory.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af87f0050f8e236d0945592fa4e54dc94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af87f0050f8e236d0945592fa4e54dc94">&#9670;&nbsp;</a></span>helios_allocate_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct __helios_object_s* helios_allocate_object </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a new helios object (and performs all the GC steps associated with that action). </p>
<p>Use this instead of malloc whenever a helios object is created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>the size in bytes of an object to allocate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the newly allocated object </dd></dl>

<p class="definition">Definition at line <a class="el" href="refcount_8c_source.html#l00283">283</a> of file <a class="el" href="refcount_8c_source.html">refcount.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                                                   {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor">#if HELIOS_MEMORY_DEBUG</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    printf(<span class="stringliteral">&quot;\x1b[31mhelios memory debug: allocated %ld bytes (%i objects &quot;</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;           <span class="stringliteral">&quot;allocated)\x1b[0m\n&quot;</span>,</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;           size, ++__MEMDEBUG_objectsallocated);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="structhelios__object.html">helios_object</a> *res = (<a class="code" href="structhelios__object.html">helios_object</a> *)malloc(size);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="preprocessor">#if HELIOS_MEMORY_DEBUG</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    printf(<span class="stringliteral">&quot;\x1b[31mallocated at 0x%lx\x1b[0m\n&quot;</span>, (uint64_t)res);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div><div class="ttc" id="structhelios__object_html"><div class="ttname"><a href="structhelios__object.html">helios_object</a></div><div class="ttdoc">Definition of the most basic helios object.</div><div class="ttdef"><b>Definition:</b> <a href="helios__object_8h_source.html#l00011">helios_object.h:11</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ba47c8ed7e1be60f1c360e33a0aff15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ba47c8ed7e1be60f1c360e33a0aff15">&#9670;&nbsp;</a></span>helios_delete_garbagecollector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void helios_delete_garbagecollector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgarbagecollector.html">garbagecollector</a> *&#160;</td>
          <td class="paramname"><em>gc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a garbagecollector object. </p>
<p>Also frees all it's tracked objects.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gc</td><td>the garbagecollector to destroy. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="refcount_8c_source.html#l00095">95</a> of file <a class="el" href="refcount_8c_source.html">refcount.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                                          {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="refcount_8c.html#a5dcd65b50eabfe133b9fcf6206b2bd1e">helios_free_all_tracked</a>(gc);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    free(gc-&gt;<a class="code" href="structgarbagecollector.html#ab635d21bdac578501b1feacc8124f013">allocated_objects</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    free(gc);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="refcount_8c.html#ae984dcde75fe497c211fa3e23888dadd">__GC_CURRENT</a> = NULL;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="ttc" id="structgarbagecollector_html_ab635d21bdac578501b1feacc8124f013"><div class="ttname"><a href="structgarbagecollector.html#ab635d21bdac578501b1feacc8124f013">garbagecollector::allocated_objects</a></div><div class="ttdeci">__helios_gc_hashmap_node * allocated_objects</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00026">helios_memory.h:26</a></div></div>
<div class="ttc" id="refcount_8c_html_a5dcd65b50eabfe133b9fcf6206b2bd1e"><div class="ttname"><a href="refcount_8c.html#a5dcd65b50eabfe133b9fcf6206b2bd1e">helios_free_all_tracked</a></div><div class="ttdeci">void helios_free_all_tracked(garbagecollector *gc)</div><div class="ttdoc">Frees all tracked objects of a garbagecollector without freeing the GC itself.</div><div class="ttdef"><b>Definition:</b> <a href="refcount_8c_source.html#l00245">refcount.c:245</a></div></div>
<div class="ttc" id="refcount_8c_html_ae984dcde75fe497c211fa3e23888dadd"><div class="ttname"><a href="refcount_8c.html#ae984dcde75fe497c211fa3e23888dadd">__GC_CURRENT</a></div><div class="ttdeci">garbagecollector * __GC_CURRENT</div><div class="ttdoc">Garbage collector objects are a field in any thread, and any object has a pointer to one.</div><div class="ttdef"><b>Definition:</b> <a href="refcount_8c_source.html#l00039">refcount.c:39</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="helios__memory_8h_a0ba47c8ed7e1be60f1c360e33a0aff15_cgraph.svg" width="414" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a5dcd65b50eabfe133b9fcf6206b2bd1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dcd65b50eabfe133b9fcf6206b2bd1e">&#9670;&nbsp;</a></span>helios_free_all_tracked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void helios_free_all_tracked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgarbagecollector.html">garbagecollector</a> *&#160;</td>
          <td class="paramname"><em>gc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees all tracked objects of a garbagecollector without freeing the GC itself. </p>
<p>The system to free all objects looks very weird but the program will crash when the contents of a container are freed before the container themselves. This is because the containers decref their contents. This is only possible when there are contents. The complex solution would be to sort the objects based on their refcount and free them in that order. But there is an easier method: just decref all objects in the system one at a time until they are all gone from the system. When a refcount reaches 0 its removed from the system. This makes items with high refcounts (those in containers) get freed after the containers themselves as they have a guaranteed lower refcount. The only problem would be cycles but this is a TODO.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gc</td><td>the garbagecollector to free all tracked objects from </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="refcount_8c_source.html#l00245">245</a> of file <a class="el" href="refcount_8c_source.html">refcount.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                                   {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">#if HELIOS_MEMORY_DEBUG</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    printf(<span class="stringliteral">&quot;\x1b[31mfreeing all tracked objects.\n\x1b[0m\n&quot;</span>);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">while</span> (gc-&gt;<a class="code" href="structgarbagecollector.html#a0d6ec8a21c69c450e0631523fa685cf7">filled</a> &gt; 0) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; gc-&gt;<a class="code" href="structgarbagecollector.html#ae45ae787ff7ccbca16600ff1adc3d762">size</a>; i++) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="keywordflow">if</span> (gc-&gt;<a class="code" href="structgarbagecollector.html#ab635d21bdac578501b1feacc8124f013">allocated_objects</a>[i].<a class="code" href="struct____helios__gc__hashmap__node.html#a32311561a1e3cfa95511b2a8fb517a95">used</a> == <span class="keyword">true</span>) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                <a class="code" href="helios__memory_8h.html#a0ca4ccb924c0070686f0cca8feb0ff27">HELIOS_DECREF</a>(gc-&gt;<a class="code" href="structgarbagecollector.html#ab635d21bdac578501b1feacc8124f013">allocated_objects</a>[i].<a class="code" href="struct____helios__gc__hashmap__node.html#adbebba8ca971110112edfb370fcd4973">obj</a>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div><div class="ttc" id="structgarbagecollector_html_ab635d21bdac578501b1feacc8124f013"><div class="ttname"><a href="structgarbagecollector.html#ab635d21bdac578501b1feacc8124f013">garbagecollector::allocated_objects</a></div><div class="ttdeci">__helios_gc_hashmap_node * allocated_objects</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00026">helios_memory.h:26</a></div></div>
<div class="ttc" id="struct____helios__gc__hashmap__node_html_a32311561a1e3cfa95511b2a8fb517a95"><div class="ttname"><a href="struct____helios__gc__hashmap__node.html#a32311561a1e3cfa95511b2a8fb517a95">__helios_gc_hashmap_node::used</a></div><div class="ttdeci">bool used</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00019">helios_memory.h:19</a></div></div>
<div class="ttc" id="structgarbagecollector_html_a0d6ec8a21c69c450e0631523fa685cf7"><div class="ttname"><a href="structgarbagecollector.html#a0d6ec8a21c69c450e0631523fa685cf7">garbagecollector::filled</a></div><div class="ttdeci">uint32_t filled</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00025">helios_memory.h:25</a></div></div>
<div class="ttc" id="structgarbagecollector_html_ae45ae787ff7ccbca16600ff1adc3d762"><div class="ttname"><a href="structgarbagecollector.html#ae45ae787ff7ccbca16600ff1adc3d762">garbagecollector::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00024">helios_memory.h:24</a></div></div>
<div class="ttc" id="struct____helios__gc__hashmap__node_html_adbebba8ca971110112edfb370fcd4973"><div class="ttname"><a href="struct____helios__gc__hashmap__node.html#adbebba8ca971110112edfb370fcd4973">__helios_gc_hashmap_node::obj</a></div><div class="ttdeci">struct __helios_object_s * obj</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00020">helios_memory.h:20</a></div></div>
<div class="ttc" id="helios__memory_8h_html_a0ca4ccb924c0070686f0cca8feb0ff27"><div class="ttname"><a href="helios__memory_8h.html#a0ca4ccb924c0070686f0cca8feb0ff27">HELIOS_DECREF</a></div><div class="ttdeci">#define HELIOS_DECREF(obj)</div><div class="ttdoc">Decrement the reference count of an object.</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00065">helios_memory.h:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08e10d6dde741394f52241662ea01fc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08e10d6dde741394f52241662ea01fc4">&#9670;&nbsp;</a></span>helios_free_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void helios_free_object </td>
          <td>(</td>
          <td class="paramtype">struct __helios_object_s *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="helios__memory_8h_a08e10d6dde741394f52241662ea01fc4_icgraph.svg" width="346" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a48e4eb31a7e7d92b0e015ae68c01bb3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48e4eb31a7e7d92b0e015ae68c01bb3a">&#9670;&nbsp;</a></span>helios_garbage_collect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void helios_garbage_collect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgarbagecollector.html">garbagecollector</a> *&#160;</td>
          <td class="paramname"><em>gc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a GC cleanup cycle. </p>
<p>Iterates through a garbagecollector's tracked objects and frees any object with a reference count which is less than or equal to 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gc</td><td>the gc to perform garbage collection on </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="refcount_8c_source.html#l00266">266</a> of file <a class="el" href="refcount_8c_source.html">refcount.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                                  {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; gc-&gt;<a class="code" href="structgarbagecollector.html#a0d6ec8a21c69c450e0631523fa685cf7">filled</a>; i++) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">if</span> (gc-&gt;<a class="code" href="structgarbagecollector.html#ab635d21bdac578501b1feacc8124f013">allocated_objects</a>[i].<a class="code" href="struct____helios__gc__hashmap__node.html#a32311561a1e3cfa95511b2a8fb517a95">used</a> == <span class="keyword">true</span> &amp;&amp;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <a class="code" href="helios__memory_8h.html#a8c172aa0256138d40339d80c3f9a1540">HELIOS_GETREF</a>(gc-&gt;<a class="code" href="structgarbagecollector.html#ab635d21bdac578501b1feacc8124f013">allocated_objects</a>[i].<a class="code" href="struct____helios__gc__hashmap__node.html#adbebba8ca971110112edfb370fcd4973">obj</a>) &lt;= 0) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <a class="code" href="builtinutils_8h.html#aa862687a707dcd3bf49ff4ffc91871e4">HELIOS_CALL_MEMBER</a>(destructor, gc-&gt;<a class="code" href="structgarbagecollector.html#ab635d21bdac578501b1feacc8124f013">allocated_objects</a>[i].<a class="code" href="struct____helios__gc__hashmap__node.html#adbebba8ca971110112edfb370fcd4973">obj</a>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div><div class="ttc" id="structgarbagecollector_html_ab635d21bdac578501b1feacc8124f013"><div class="ttname"><a href="structgarbagecollector.html#ab635d21bdac578501b1feacc8124f013">garbagecollector::allocated_objects</a></div><div class="ttdeci">__helios_gc_hashmap_node * allocated_objects</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00026">helios_memory.h:26</a></div></div>
<div class="ttc" id="struct____helios__gc__hashmap__node_html_a32311561a1e3cfa95511b2a8fb517a95"><div class="ttname"><a href="struct____helios__gc__hashmap__node.html#a32311561a1e3cfa95511b2a8fb517a95">__helios_gc_hashmap_node::used</a></div><div class="ttdeci">bool used</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00019">helios_memory.h:19</a></div></div>
<div class="ttc" id="builtinutils_8h_html_aa862687a707dcd3bf49ff4ffc91871e4"><div class="ttname"><a href="builtinutils_8h.html#aa862687a707dcd3bf49ff4ffc91871e4">HELIOS_CALL_MEMBER</a></div><div class="ttdeci">#define HELIOS_CALL_MEMBER(func, obj,...)</div><div class="ttdoc">This header is only there to resolve some circular dependency (with memory.h) issues but it fully bel...</div><div class="ttdef"><b>Definition:</b> <a href="builtinutils_8h_source.html#l00011">builtinutils.h:11</a></div></div>
<div class="ttc" id="structgarbagecollector_html_a0d6ec8a21c69c450e0631523fa685cf7"><div class="ttname"><a href="structgarbagecollector.html#a0d6ec8a21c69c450e0631523fa685cf7">garbagecollector::filled</a></div><div class="ttdeci">uint32_t filled</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00025">helios_memory.h:25</a></div></div>
<div class="ttc" id="struct____helios__gc__hashmap__node_html_adbebba8ca971110112edfb370fcd4973"><div class="ttname"><a href="struct____helios__gc__hashmap__node.html#adbebba8ca971110112edfb370fcd4973">__helios_gc_hashmap_node::obj</a></div><div class="ttdeci">struct __helios_object_s * obj</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00020">helios_memory.h:20</a></div></div>
<div class="ttc" id="helios__memory_8h_html_a8c172aa0256138d40339d80c3f9a1540"><div class="ttname"><a href="helios__memory_8h.html#a8c172aa0256138d40339d80c3f9a1540">HELIOS_GETREF</a></div><div class="ttdeci">#define HELIOS_GETREF(obj)</div><div class="ttdoc">Get the reference count of an object.</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00089">helios_memory.h:89</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a27b2da5d6954fd6e7aa0d2f352336c25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27b2da5d6954fd6e7aa0d2f352336c25">&#9670;&nbsp;</a></span>helios_get_garbagecollector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgarbagecollector.html">garbagecollector</a>* helios_get_garbagecollector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the global current garbage collector. </p>
<p>Errors whenever this value is not set.</p>
<dl class="section return"><dt>Returns</dt><dd>the current GC </dd></dl>

<p class="definition">Definition at line <a class="el" href="refcount_8c_source.html#l00051">51</a> of file <a class="el" href="refcount_8c_source.html">refcount.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                                {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="refcount_8c.html#ae984dcde75fe497c211fa3e23888dadd">__GC_CURRENT</a> == NULL) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        printf(</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="stringliteral">&quot;ERROR: no garbage collector found (fix: use &quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="stringliteral">&quot;helios_init_garbagecollector and helios_set_garbagecollector)\n&quot;</span>);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        exit(-1);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="refcount_8c.html#ae984dcde75fe497c211fa3e23888dadd">__GC_CURRENT</a>;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div><div class="ttc" id="refcount_8c_html_ae984dcde75fe497c211fa3e23888dadd"><div class="ttname"><a href="refcount_8c.html#ae984dcde75fe497c211fa3e23888dadd">__GC_CURRENT</a></div><div class="ttdeci">garbagecollector * __GC_CURRENT</div><div class="ttdoc">Garbage collector objects are a field in any thread, and any object has a pointer to one.</div><div class="ttdef"><b>Definition:</b> <a href="refcount_8c_source.html#l00039">refcount.c:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaabde550780f37dc19f59b3e8bc9c514"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaabde550780f37dc19f59b3e8bc9c514">&#9670;&nbsp;</a></span>helios_init_garbagecollector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgarbagecollector.html">garbagecollector</a>* helios_init_garbagecollector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new garbagecollector object. </p>
<p>NOTE: doesnt automatically set it as the current GC. This has to be done manually.</p>
<p>TODO: create shortcut function for creating a GC and setting it as current.</p>
<dl class="section return"><dt>Returns</dt><dd>a newly created garbagecollector. </dd></dl>

<p class="definition">Definition at line <a class="el" href="refcount_8c_source.html#l00078">78</a> of file <a class="el" href="refcount_8c_source.html">refcount.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                                 {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="structgarbagecollector.html">garbagecollector</a> *gc = malloc(<span class="keyword">sizeof</span>(<a class="code" href="structgarbagecollector.html">garbagecollector</a>));</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    *gc = (<a class="code" href="structgarbagecollector.html">garbagecollector</a>){</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <a class="code" href="helios__memory_8h.html#a5e29bea4269384b13c7e2799b02d4ded">GC_DEFAULT_LENGTH</a>, 0,</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        malloc(<a class="code" href="helios__memory_8h.html#a5e29bea4269384b13c7e2799b02d4ded">GC_DEFAULT_LENGTH</a> * <span class="keyword">sizeof</span>(<a class="code" href="struct____helios__gc__hashmap__node.html">__helios_gc_hashmap_node</a>))};</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; gc-&gt;<a class="code" href="structgarbagecollector.html#ae45ae787ff7ccbca16600ff1adc3d762">size</a>; i++) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        gc-&gt;<a class="code" href="structgarbagecollector.html#ab635d21bdac578501b1feacc8124f013">allocated_objects</a>[i].<a class="code" href="struct____helios__gc__hashmap__node.html#a32311561a1e3cfa95511b2a8fb517a95">used</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        gc-&gt;<a class="code" href="structgarbagecollector.html#ab635d21bdac578501b1feacc8124f013">allocated_objects</a>[i].<a class="code" href="struct____helios__gc__hashmap__node.html#adbebba8ca971110112edfb370fcd4973">obj</a> = NULL;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> gc;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div><div class="ttc" id="structgarbagecollector_html_ab635d21bdac578501b1feacc8124f013"><div class="ttname"><a href="structgarbagecollector.html#ab635d21bdac578501b1feacc8124f013">garbagecollector::allocated_objects</a></div><div class="ttdeci">__helios_gc_hashmap_node * allocated_objects</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00026">helios_memory.h:26</a></div></div>
<div class="ttc" id="struct____helios__gc__hashmap__node_html_a32311561a1e3cfa95511b2a8fb517a95"><div class="ttname"><a href="struct____helios__gc__hashmap__node.html#a32311561a1e3cfa95511b2a8fb517a95">__helios_gc_hashmap_node::used</a></div><div class="ttdeci">bool used</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00019">helios_memory.h:19</a></div></div>
<div class="ttc" id="structgarbagecollector_html_ae45ae787ff7ccbca16600ff1adc3d762"><div class="ttname"><a href="structgarbagecollector.html#ae45ae787ff7ccbca16600ff1adc3d762">garbagecollector::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00024">helios_memory.h:24</a></div></div>
<div class="ttc" id="struct____helios__gc__hashmap__node_html_adbebba8ca971110112edfb370fcd4973"><div class="ttname"><a href="struct____helios__gc__hashmap__node.html#adbebba8ca971110112edfb370fcd4973">__helios_gc_hashmap_node::obj</a></div><div class="ttdeci">struct __helios_object_s * obj</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00020">helios_memory.h:20</a></div></div>
<div class="ttc" id="helios__memory_8h_html_a5e29bea4269384b13c7e2799b02d4ded"><div class="ttname"><a href="helios__memory_8h.html#a5e29bea4269384b13c7e2799b02d4ded">GC_DEFAULT_LENGTH</a></div><div class="ttdeci">#define GC_DEFAULT_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00012">helios_memory.h:12</a></div></div>
<div class="ttc" id="struct____helios__gc__hashmap__node_html"><div class="ttname"><a href="struct____helios__gc__hashmap__node.html">__helios_gc_hashmap_node</a></div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00018">helios_memory.h:18</a></div></div>
<div class="ttc" id="structgarbagecollector_html"><div class="ttname"><a href="structgarbagecollector.html">garbagecollector</a></div><div class="ttdef"><b>Definition:</b> <a href="helios__memory_8h_source.html#l00023">helios_memory.h:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab14fb1c046aae61ab06eda8eeaf2cd85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab14fb1c046aae61ab06eda8eeaf2cd85">&#9670;&nbsp;</a></span>helios_set_garbagecollectable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void helios_set_garbagecollectable </td>
          <td>(</td>
          <td class="paramtype">struct __helios_object_s *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="helios__memory_8h_ab14fb1c046aae61ab06eda8eeaf2cd85_icgraph.svg" width="484" height="291"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0352d829134eb27df2d9e088062e987d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0352d829134eb27df2d9e088062e987d">&#9670;&nbsp;</a></span>helios_set_garbagecollector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void helios_set_garbagecollector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgarbagecollector.html">garbagecollector</a> *&#160;</td>
          <td class="paramname"><em>gc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Points the global garbagecollector pointer to a new garbagecollector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gc</td><td>the new gc </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="refcount_8c_source.html#l00066">66</a> of file <a class="el" href="refcount_8c_source.html">refcount.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                                                       {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="refcount_8c.html#ae984dcde75fe497c211fa3e23888dadd">__GC_CURRENT</a> = gc;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div><div class="ttc" id="refcount_8c_html_ae984dcde75fe497c211fa3e23888dadd"><div class="ttname"><a href="refcount_8c.html#ae984dcde75fe497c211fa3e23888dadd">__GC_CURRENT</a></div><div class="ttdeci">garbagecollector * __GC_CURRENT</div><div class="ttdoc">Garbage collector objects are a field in any thread, and any object has a pointer to one.</div><div class="ttdef"><b>Definition:</b> <a href="refcount_8c_source.html#l00039">refcount.c:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae984dcde75fe497c211fa3e23888dadd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae984dcde75fe497c211fa3e23888dadd">&#9670;&nbsp;</a></span>__GC_CURRENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgarbagecollector.html">garbagecollector</a>* __GC_CURRENT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the global current garbagecollector. </p>

<p class="definition">Definition at line <a class="el" href="helios__memory_8h_source.html#l00044">44</a> of file <a class="el" href="helios__memory_8h_source.html">helios_memory.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 30 2019 13:13:03 for Helios-Language by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
